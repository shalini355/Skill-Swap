<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Profile | Skill Swap Platform</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white min-h-screen p-6">

  <!-- Header -->
  <header class="flex justify-between items-center mb-6 border-b border-gray-700 pb-2">
    <h1 class="text-xl font-bold">Skill Swap Platform</h1>
    <div class="flex gap-4 items-center">
      <a href="swap-requests.html" class="hover:underline">Swap request</a>
      <a href="index.html" class="hover:underline">Home</a>
      <img src="profile.jpg" alt="User" class="w-10 h-10 rounded-full border" />
    </div>
  </header>

  <!-- Profile Card -->
  <div class="bg-gray-800 p-8 rounded-lg shadow-lg flex flex-col md:flex-row items-start gap-8 max-w-3xl mx-auto">

    <!-- Left section -->
    <div class="flex-1">
      <button onclick="handleRequest()" class="bg-blue-600 hover:bg-blue-700 px-6 py-2 rounded mb-6 text-lg font-semibold">
        Request
      </button>
      <h2 class="text-2xl font-bold mb-4" id="profileName">Marc Demo</h2>

      <div class="mb-4">
        <p class="font-semibold text-green-400 mb-1">Skills Offered</p>
        <ul class="list-disc list-inside text-sm ml-4" id="skillsOffered"></ul>
      </div>

      <div class="mb-4">
        <p class="font-semibold text-blue-400 mb-1">Skills Wanted</p>
        <ul class="list-disc list-inside text-sm ml-4" id="skillsWanted"></ul>
      </div>

      <div>
        <p class="text-yellow-400 font-semibold mb-1">Rating and Feedback</p>
        <p class="text-sm mb-2" id="rating">4.3/5</p>
        <ul class="list-disc list-inside text-sm ml-4 text-gray-300" id="feedbackList"></ul>
      </div>
    </div>

    <!-- Right section -->
    <div class="md:w-1/3 flex justify-center w-full">
      <img src="profile.jpg" alt="Profile Photo" class="rounded-full w-40 h-40 border-4 border-white" />
    </div>
  </div>

  <script>
    // Simulated profile data (replace with API data later)
    const profileData = {
      name: "Marc Demo",
      skillsOffered: ["JavaScript", "Python"],
      skillsWanted: ["Animation", "Graphic Designer"],
      rating: 4.3,
      feedback: [
        "Very helpful and patient.",
        "Quick to respond!",
        "Great knowledge of JavaScript."
      ]
    };

    document.getElementById("profileName").innerText = profileData.name;
    document.getElementById("rating").innerText = profileData.rating + "/5";

    const insertList = (id, items) => {
      const ul = document.getElementById(id);
      ul.innerHTML = "";
      items.forEach(item => {
        const li = document.createElement("li");
        li.innerText = item;
        ul.appendChild(li);
      });
    };

    insertList("skillsOffered", profileData.skillsOffered);
    insertList("skillsWanted", profileData.skillsWanted);
    insertList("feedbackList", profileData.feedback);

    function handleRequest() {
      const isLoggedIn = !!localStorage.getItem("token");
      if (!isLoggedIn) {
        alert("Please login first to send a swap request.");
        window.location.href = "login.html";
        return;
      }
      window.location.href = "request-form.html";
    }
  </script>

</body>
</html>
